# ps-bot

## Setup

## устанавливаем python 3.12.*
1. качаем инсталлер https://www.python.org/downloads/release/python-3123/
2. выполняем все шаги

```shell
python3.12 --version
```

## устанавливаем poetry 1.8.*

перед установкой запустите команду:
```shell
poetry --version
```
если поетри уже есть, его желательно удалить

иначе запускаем команды:

```shell
pip3.12 install poetry
```

```shell
echo 'alias poetry=python3.12 -m poetry' >> ~/.profile
```

```shell
poetry --version
```

## локальная настройка бота
создаем окружение/устанавливаем зависмости
```shell
poetry install
```
создаем .env, не забываем установить токен бота
```shell
cp .env.example .env
```
запускаем миграции
```shell
alembic upgrade head
```
в настройках pycharm указываем созданное виртуальное окружение
либо в терминале из корня проекта запускаем:
```shell
poetry shell
```
запускаем бота
```shell
python -m ps_bot
```
## как подключиться к базе
sqlite база - это просто файлик, который будет лежать рядом с кодом,
чтобы подконнектиться к ней, запускаем команду в терминале из корня проекта:
```shell
python -m slqite3 ps_bot.db
```
должно принтануться сообщение об успешности конекта, а слева
должно появиться приглашение ввода: "sqlite>"

вводим туда запрос
```sql
select * from account;
```
должно вывестить содержимое таблицы account,
а эта команда закроет соединение с бд:
```sql
.quit
```
